<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="">
      <input type="text" name="username" />
      <input type="text" name="phone" />
      <button type="submit">提交</button>
    </form>
  </body>
</html>
<script>
  /*
    查询字符串  queryString
        - 一种字符串格式
        
    JS 把字符串分为几种格式
    1. 普通字符串 'adsfasfasksdfhaiu'
    2. 数字字符串 '234234234'
    3. html字符串 '<h1></h1>'
    4. 查询字符串 'key=value&key1=value1&key2=value2'
        -> 一条信息  key=value
        -> 多条信息  用&链接
  */

  // username=小花&phone=123456
  /* 
      {
        username: '小花',
        phone: 123456
      }
  */

  // 1. 把 查询字符串 转为 对象类型
  var str = "username=小花&phone=123456";
  function parseQueryString(str) {
    // 1-1. 准备一个空对象
    var obj = {};
    // 1-2. 把str数据解析出来放在obj中 有几条数据放几  按照 & 拆分
    var r1 = str.split("&");
    // 1-3. 把数组r1里面的内容依次放到obj中   遍历
    r1.forEach(function (item) {
      // 1-4 把每一条信息按照=分割
      var t = item.split("=");
      // 1-5 = 左边的就是 key , = 右边的是value
      var key = t[0];
      var value = t[1];
      obj[key] = value;
    });
    return obj;
  }

  var res = parseQueryString(str);

  // 2. 把 对象  转为 查询字符串
  /* 
      {
        username: '小花',
        phone: 123456
      }

      username: '小花', 

      username='小花'&

       phone: 123456

        username='小花'&phone='123456'&


  */
  // username=小花&phone=123456

  var obj = {
    username: "小花",
    phone: 123456,
  };

  function queryStringify(obj) {
    // 1. 准备一个空字符串
    var str = "";

    for (var k in obj) {
      // k 是啥
      console.log(k, obj[k]);
      // username='小花'&
      str += `${k}=${obj[k]}&`;
    }
    // 最后多一个&， 截取掉
    str = str.slice(0, -1);
    console.log(str);
    return str;
  }

  var str = queryStringify(obj);
</script>
