<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>
<script>
  /*
    作用域链 -- 赋值机制

        变量赋值机制
            1. 当我们需要给一个变量赋值的时候，首先在自己作用域中查找，如果有直接赋值，停止查找
            2. 如果没有，自动去上一级作用域查找，如果有直接赋值，停止查找
            3. 如果还没有，再去上一级查找，直到找到window中就可以
            4. 如果window也没有，那么把这个变量定义为全局变量，直接赋值

  */

  // 案例1
  //   var n = 100
  //   function fn() {
  //     var n = 200
  //     console.log("修改前", n)
  //     n = 300
  //     console.log("修改后", n)
  //   }

  //   console.log("全局前", n)
  //   fn()
  //   console.log("全局后", n)

  // 案例2
  //   var n = 100
  //   function fn() {
  //     console.log("修改前", n)
  //     n = 300
  //     console.log("修改后", n)
  //   }

  //   console.log("全局前", n)
  //   fn()
  //   console.log("全局后", n)

  // 案例3
  function fn() {
    n = 300
    console.log("修改后", n)
  }

  fn()
  console.log("全局后", n)
</script>
