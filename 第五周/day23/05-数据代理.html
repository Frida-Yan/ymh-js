<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Document</title>
</head>

<body></body>

</html>
<script>
    /*
        数据代理
            - ES6 提供的语法
                -> 内置构造函数 Proxy(代理原始对象, { 配置项 })
            - 返回的实例对象就是代理结果数据
    */
    const obj = { name: 'tom', age: 18 }

    // 开始代理
    const result = new Proxy(obj, {
        get(target, property) {
            // target 就是你要代理的目标对象 --- obj 
            // property 就是对象中的每一个属性 自动遍历
            return target[property]
        },
        set(target, property, val) {
            // target 就是你要代理的目标对象 --- obj
            // property 就是对象内每一个要修改的属性 
            // val 就是要修改的值
            target[property] = val

            // 注意 简单代理需要 返回true
            return true
        }
    })
    console.log('原始数据', obj);
    console.log('代理结果', result);

    // 尝试修改
    result.name = 'jack'
    result.age = 20

    console.log('代理结果name', result.name, result);
    result.sex = '女'
    console.log('代理结果sex', result.sex, result);

</script>